<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSRF</title>
</head>
<body>
    <h1>CSRF</h1>
    <div>
        CSRFとは、正規のユーザーが意図していないリクエストを攻撃者が強制的に
        送信することで、正規のユーザーしかできないはずの操作を行うことができる
        攻撃のことです。<br>
        ユーザー認証に不備のある（CSRF脆弱性をもつ）サイトに正規ユーザーが
        ログインしている状態で、その正規ユーザーが罠サイトにアクセスしてしまうと、
        正規ユーザーが意図していないリクエストが送信されてしまいます。<br>
        ユーザー認証にはCookie認証やHTTP認証などがありますが、
        それらの認証が不十分であるときにこの脆弱性が発生します。<br>
        以下のCSRFテストでは、Cookieのみでセッション管理しています。<br>
        Cookieとはブラウザ内に保存される情報のことで、
        これを使うことで二回目以降のアクセスで、ユーザーへの情報の提供が
        スムーズにできるようになります。<br>
        しかし、Cookieのみでユーザー認証を行うと
        CSRF脆弱性が発生してしまいます。<br>
        <img src="../../resources/images/csrf.png" width="600px" alt="nothing">
        <br>
        ①攻撃者はまず、CSRF脆弱性のあるサイト（A）を探し出します。
        その後、CSRF脆弱性を利用して、Aで不正な操作を行うリクエストを
        含んだ罠サイトを用意します。<br>
        ②ユーザーがAにログインします。<br>
        ③②と同時に、ユーザーが閲覧しているWEBブラウザにセッションIDが
        付与されます。<br>
        ④そのセッションIDが付与されている状態で、攻撃者が何らかの方法で誘導し、
        Bにアクセスさせます。<br>
        ⑤Bに仕込まれていた不正なリクエストがAに送信され、個人情報の改ざんや
        退会の操作等のユーザーが意図していない操作が行われてしまいます。
    </div><br>
    <div>
        では、以下のリンクをクリックして体験してみてください<br>
        <a href="/CSRF/RegistrationForm">CSRFテスト</a>
    </div>
</body>
</html>